type=imaudio
textarea="data instruction"
iEdit="instruction"

:Triar una imatge d'una llista
<p>
Per construir un exercici amb aquest model, simplement escriu la llista d'imatges i
la seva caracterització. Aquesta caracterització es pot posar a l'enunciat
de la forma <span class="tt wims_code_variable">\name</span>.
Si vols posar una imatge que aparegui com a disruptiva sense definició,
no posis cap caracterització. Diverses imatges poden tenir la mateixa caracterització.
</p>
<p class="wims_credits">
Autor del model: <a href="mailto:bernadette.m.riou@orange.fr">Bernadette Perrin-Riou</a>
</p>

:%%%%%%%%%%%%%%%%%      ATTENTION      %%%%%%%%%%%%%%%%%%%%

Enlevez l'en-tête ci-dessus si vous détruisez les balises pour le modèle !
(Ce sont les lignes qui commencent par un ':'.)
Sinon l'exercice risque de ne pas pouvoir repasser sous Createxo.

:%%%%%%%% Paramètres d'exemples à redéfinir %%%%%%%%%%%%%%%%%

:\title{Triar la imatge correcta}
:\author{Bernadette, Perrin-Riou}
:\email{bpr@math.u-psud.fr}
:\credits{}

:Dades
Les imatges poden estar en l'exercici (només cal posar el nom de
la imatge, no oblideu carregar-les a l'exercici),
en un mòdul de dades d'imatges
(vegeu l'exemple).
\text{data=modules/data/images/imgschool.fr/images/abeille.png,l'abeille
modules/data/images/imgschool.fr/images/ange.png,l'ange
modules/data/images/imgschool.fr/images/araignee.png,l'araignée
modules/data/images/imgschool.fr/images/aubergine.png,l'aubergine
modules/data/images/imgschool.fr/images/ananas.png,l'ananas
}

:Nombre d'imatges presentades.

\integer{cnt=4}

:La mida vertical de les imatges en píxels

\text{sizev=100}

:%%%%%%%%%%%%%%
ne pas mettre de ; dans sizeh
\if{\sizev notsametext }{
  \text{sizev= style="height:wims(nospace \sizev px)"}
}
\text{data=wims(embraced randitem \data)}
\text{tot=rows(\data)}
\text{name=}
\while{\name issametext }{
 \text{mot = randrow(\data)}
 \text{name=\mot[2]}
 }
\text{image=\mot[1]}
\text{ext=item(2,wims(replace internal . by , in wims(lowercase \image)))}

:Enunciat
Aquí \name representa el segon element de la imatge en la que es farà clic.
\text{instruction=Feu clic a \name.}

:%%%%%%%%%%%%%%
\css{<style>
table.ans_multipleclick1 {margin-left:auto;margin-right:auto}
</style>
}
\text{liste=column(1,\data)}
\text{listename=column(2,\data)}
\text{rep=position(\name,\listename)}
\text{perturb=wims(makelist x for x=1 to \tot)}
\text{perturb=shuffle(\perturb)}
\text{perturb=\perturb[1..\cnt]}
\text{inter=wims(listintersection \rep and \perturb)}
\if{\inter=}{
  \integer{repcnt=items(\rep)}
  \text{rep= \repcnt >1 ? randitem(\rep)}
  \text{perturb=\rep,\perturb[1..\cnt-1]}
  \text{perturb=shuffle(\perturb)}
}
\matrix{data=\data}
\text{liste=\data[\perturb;1]}
\text{listename=\data[\perturb;2]}
\text{cnt=items(\liste)}
\text{Image=}
\for{j=1 to \cnt}{
  \text{Image=/ isin \liste[\j] ? wims(append item \liste[\j] to \Image):
  wims(append item \imagedir/\liste[\j] to \Image)}
}
\text{liste=wims(makelist imgrename(x \sizev) for x in \Image)}
\text{rep=position(\name,\listename)}
\statement{
<div class="instruction">
 \instruction
</div>
<br class="spacer">
 \embed{r1}
}
\answer{}{\rep;\liste}{type=multipleclick}{option=shuffle}
