type=imaudio
textarea="instruction"
iEdit="instruction"

:Triar entre les etiquetes la paraula que s'ha escoltat (des dels àudios existents al servidor WIMS).

Es proposa un àudio i s'ha de triar l'etiqueta del text. L'àudio s'agafa
de la base d'àudio de paraules registrades de WIMS. Si l'exercici es troba en una classe,
amb una adaptació, es pot utilitzar amb àudios posats a la classe.
<p>
Per construir un exercici amb aquest model, simplement escriviu la llista de
paraules sempre que existeixen a la base d'àudio (per comprovar-ho, escriviu
swac al motor de cerca i utilitzeu l'eina proposada).
</p><p>
Per obtenir més possibilitats, utilitzeu Quicktool.
</p><p class="wims_credits">
Autor del model: <a href="mailto:bernadette.m.riou@orange.fr">Bernadette Perrin-Riou</a>
</p>
:%%%%%%%%%%%%%%%%%      ATTENTION      %%%%%%%%%%%%%%%%%%%%

Enlevez l'en-tête ci-dessus si vous détruisez les balises pour le modèle !
(Ce sont les lignes qui commencent par un ':'.)
Sinon l'exercice risque de ne pas pouvoir repasser sous Createxo.

:%%%%%%%% Paramètres d'exemples à redéfinir %%%%%%%%%%%%%%%%%


:\title{Escoltar i reconèixer}
:\author{Bernadette, Perrin-Riou}
:\email{bpr@math.u-psud.fr}
:\credits{}

:Enunciat
\text{instruction=Feu clic a la paraula que heu escoltat.}

:Llista de paraules
Si hi ha diverses línies, els distractors es prenen de la mateixa línia que la paraula escollida.
\text{liste = doctor,teacher,journalist,policeman, fireman, postman}

:Llenguatge d'àudio: les opcions possibles són <span class="tt">fra</span>,  <span class="tt">eng</span>,  <span class="tt">dut</span> (i altres amb menys possibilitats  <span class="tt">pol</span>,  <span class="tt">wol</span>,  <span class="tt">deu</span>,  <span class="tt">swe</span>.)
\text{lang = eng}

:Nombre de distractors
\integer{cntpertub=3}

:La mida vertical de les caixes en píxels
\integer{sizev=200}

:La mida horitzontal de les caixes de l'esquerra en píxels
\integer{sizel=20}

:Depenent de l'opció, es proposen totes les paraules o nomes una aleatòriament (com a màxim 10 paraules)
\text{choix=item(1,1 totes,
2 una sola)}

:%%%%%%%%%%%%% Maintenant l'énoncé en code html. %%%%%%%%%%%%%%%%%%%%
\text{choix=wims(word 1 of \choix)}
\text{Audio =}
\text{Perturb=}
\text{list=randrow(\liste)}
\text{mots=\choix=1 ? shuffle(\liste): randitem(\liste)}
\integer{cnt=items(\mots)}
\integer{cnt=min(10,\cnt)}
\for{j=1 to \cnt}{
  \text{mot=\mots[\j]}
  \text{audio = slib(lang/swac \mot,\lang)}
  \text{Audio = wims(append item \audio[1;1] to \Audio)}
  \text{perturb=wims(listcomplement \mot in \liste)}
  \text{perturb=shuffle(\perturb)}
  \text{perturb=\perturb[1..\cntpertub]}
  \text{Perturb=wims(append line \perturb to \Perturb)}
}
\text{size=\sizev[]x\sizel[]x\sizer}
\text{etape=wims(makelist r x for x=1 to \cnt)}
\text{etape=wims(replace , by ; in \etape)}
\steps{\etape}

\statement{
<div class="instruction">
\instruction
</div>
<div class="wimscenter">\Audio[\step]</div>

<div class="wimscenter">
\embed{r \step,\size}
</div>
}
\answer{}{\mots[1];\Perturb[1;]}{type=clickfill}
\answer{}{\mots[2];\Perturb[2;]}{type=clickfill}
\answer{}{\mots[3];\Perturb[3;]}{type=clickfill}
\answer{}{\mots[4];\Perturb[4;]}{type=clickfill}
\answer{}{\mots[5];\Perturb[5;]}{type=clickfill}
\answer{}{\mots[6];\Perturb[6;]}{type=clickfill}
\answer{}{\mots[7];\Perturb[7;]}{type=clickfill}
\answer{}{\mots[8];\Perturb[8;]}{type=clickfill}
\answer{}{\mots[9];\Perturb[9;]}{type=clickfill}
\answer{}{\mots[10];\Perturb[10;]}{type=clickfill}
