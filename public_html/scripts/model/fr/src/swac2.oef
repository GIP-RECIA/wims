type=imaudio
textarea="instruction"
iEdit="instruction"

:Écrire le mot entendu (à partir d'audios existants sur le serveur WIMS).

Un audio est proposé et le texte entendu doit être écrit exactement. Les audio sont
pris parmi la base d'audio de mots enregistrés de WIMS. Si l'exercice est dans une classe,
avec une adapatation, il peut être utilisé avec des audios mis dans la classe.
<p>
Pour construire un exercice avec ce modèle, il suffit de taper la liste de
mots à condition qu'ils existent dans la base d'audio (pour vérifier, taper
swac dans le moteur de recherche et utiliser l'outil proposé).
</p><p>
Pour plus de possibilités, utiliser Quicktool.
</p><p class="wims_credits">
Auteur du modèle : <a href="mailto:bernadette.m.riou@orange.fr">Bernadette Perrin-Riou</a>
</p>
:%%%%%%%%%%%%%%%%%      ATTENTION      %%%%%%%%%%%%%%%%%%%%

Enlevez l'en-tête ci-dessus si vous détruisez les balises pour le modèle !
(Ce sont les lignes qui commencent par un ':'.)
Sinon l'exercice risque de ne pas pouvoir repasser sous Createxo.

:%%%%%%%% Paramètres d'exemples à redéfinir %%%%%%%%%%%%%%%%%

:\title{Écouter et écrire}
:\author{Bernadette, Perrin-Riou}
:\email{bernadette.m.riou@orange.fr}
:\credits{}

:Consigne
\text{instruction=Écris le mot entendu, sans erreur d'orthographe.}

:Liste de mots
S'il y a plusieurs lignes, les distracteurs seront pris sur la même ligne que le mot choisi.
\matrix{liste=doctor,teacher,journalist,policeman, fireman, postman
70,71,72,73,74,75
60,61,62,63,64,65
}

:Langue audio : les choix possibles sont <span class="tt">fra</span>, <span class="tt">eng</span>, <span class="tt">dut</span> (et d'autres avec moins de possibilités <span class="tt">pol</span>, <span class="tt">wol</span>, <span class="tt">deu</span>, <span class="tt">swe</span>.)
\text{lang = eng}

:Taille verticale des cases (en nombres de caractères)
\integer{size=12}

:Option
Selon l'option, tous les mots d'une ligne prise au hasard dans la liste
des mots sont proposés successivement (au plus 10 mots) ou un seul aléatoirement
\text{choix=item(1,1 tout,
2 un seul)}

:%%%%%%%%%%%%% Maintenant l'énoncé en code html. %%%%%%%%%%%%%%%%%%%%
\text{choix=wims(word 1 of \choix)}
\text{Audio =}
\text{list=randrow(\liste)}
\text{mots=\choix=1 ? shuffle(\list): randitem(\list)}
\integer{cnt=items(\mots)}
\integer{cnt=min(10,\cnt)}
\for{j=1 to \cnt}{
  \text{audio = slib(lang/swac \mots[\j],\lang)}
  \text{Audio = wims(append item \audio[1;1] to \Audio)}
}
\text{etape=wims(makelist r x for x=1 to \cnt)}
\text{etape=wims(replace , by ; in \etape)}
\steps{\etape}

\statement{
  <div class="wims_question">\instruction</div>
  <div class="wimscenter">\Audio[\step]</div>
  <div class="wimscenter">
    \embed{r \step,\size
      default
    }
  </div>
}

\answer{}{\mots[1]}{type=case}{option=nonstop}
\answer{}{\mots[2]}{type=case}{option=nonstop}
\answer{}{\mots[3]}{type=case}{option=nonstop}
\answer{}{\mots[4]}{type=case}{option=nonstop}
\answer{}{\mots[5]}{type=case}{option=nonstop}
\answer{}{\mots[6]}{type=case}{option=nonstop}
\answer{}{\mots[7]}{type=case}{option=nonstop}
\answer{}{\mots[8]}{type=case}{option=nonstop}
\answer{}{\mots[9]}{type=case}{option=nonstop}
\answer{}{\mots[10]}{type=case}{option=nonstop}
