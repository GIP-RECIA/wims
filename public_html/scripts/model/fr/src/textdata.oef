type=gapfill
textarea="data words pre post"
iEdit="pre post"

:Questions à réponses textuelles incorporées dans un texte pris au hasard. Les réponses ne doivent contenir que des mots imposés.

Cet exercice présente des textes "à trous", chacun devant être rempli par un
mot (voire une très courte phrase).
<p>
Pour construire un exercice avec ce modèle, il suffit d'entrer les textes.
Une syntaxe facile permet de spécifier les trous et le bon mot qu'il
accepte.
</p><p>
L'analyseur de réponse sait ignorer les "petites" différences dans la
réponse : absence ou ajout d'un article, majuscule/minuscule, accents,
pluriel/singulier. Il peut aussi ne pas compter des erreurs de frappe comme
une fausse réponse. Des synonymes peuvent aussi être déclarés.
</p>
<p class="wims_credits">Auteur du modèle : <a href="mailto:qualite@wimsedu.info">Gang Xiao</a></p>

:%%%%%%%%%%%%%%%%%      ATTENTION      %%%%%%%%%%%%%%%%%%%%

Enlevez l'en-tête ci-dessus si vous détruisez les balises pour le modèle !
(Ce sont les lignes qui commencent par un ':'.)
Sinon l'exercice risque de ne pas pouvoir repasser sous Createxo.

:%%%%%%%% Paramètres d'exemples à redéfinir %%%%%%%%%%%%%%%%%

:\title{Questions textuelles}
:\author{XIAO, Gang}
:\email{qualite@wimsedu.info}
:\credits{}

:Longueur des cases à remplir. Il faut prévoir les réponses les plus longues.
\integer{len=20}

:Texte affiché avant la question.
Balises html admises. Peut être vide.
$embraced_randitem
\text{pre=En électricité,}

:Données principales.
<p>Les textes doivent être séparés par des points-virgules. Donc les textes eux-mêmes
  ne peuvent pas contenir des point-virgules.</p><p>
Les questions à poser (trous) doivent être mises entre une paire de
  double-point d'interrogation "??".</p><p>
Il peut y avoir jusqu'à 6 questions dans un même texte.
Si une question accepte plusieurs réponses correctes possibles, mettre
  toutes les bonnes réponses (synonymes) séparées par un trait vertical
  <span class="tt wims_code_words">|</span>.</p><p>
L'analyseur ne tient pas compte des petites différences dans la réponse :
  absence ou ajout d'un article, majuscule/minuscule, accents,
  pluriel/singulier.</p>
$embraced_randitem
\text{data=
l'unité de base pour mesurer une intensité est ??ampère??.;
l'unité de base pour mesurer une tension est ??volt??.;
l'unité de base pour mesurer une résistance est ??ohm??.;
l'unité de base pour mesurer la capacité d'un condensateur est ??farad??.;
l'unité de base pour mesurer l'inductance d'un solénoïde est ??henry??.;
l'unité de base pour mesurer la puissance dissipée sur une composante est ??watt??.;
l'unité de base pour mesurer une fréquence est ??hertz??.;

l'ampère est une unité de mesure pour ??l'intensité??.;
le volt est une unité de mesure pour ??la tension|la charge??.;
le ohm est une unité de mesure pour ??la résistance??.;
le watt est une unité de mesure pour ??la puissance??.;

}

:Type d'analyse de réponse.
Les types <span class="tt">case</span> et <span class="tt">nocase</span> sont surtout adaptés pour les
applications linguistiques. Dans les autres cas, préférez <span class="tt">atext</span>.
\text{atype=item(3,case (aucune tolérance d'erreur),
	nocase (tolère minuscule/majuscule),
	atext (ignore pluriel/singulier et articles))}

:Liste de mots possibles.
Mettez les mots reconnus par l'exercice dans la liste suivante. Toute réponse contenant un mot
en dehors de cette liste sera considérée comme une erreur de frappe et
renvoyée pour retaper. <p>
Si ce champ est vide, toute réponse non reconnue est jugée fausse. Ce qui
doit être le cas en général pour les applications linguistiques.
</p>
\text{words=ampere volt ohm farad henry watt hertz
electricite electrique circuit composante intensite courant tension charge
resistor resistance diode transistor condensateur capacite solenoide
inductance puissance frequence
}

:Texte affiché après la question.
Balises html admises. Peut être vide.
$embraced_randitem
\text{post=}

:Mise en aléatoire par des accolades emboitables
$embraced_randitem
\text{accolade=item(1,1 oui,
2 non)}

:%%%%%%%%%%%%%% Rien à modifier avant l'énoncé %%%%%%%%%%%%%%%%

\text{accolade=wims(word 1 of \accolade)}
\text{data=wims(singlespace \data)}
\text{data=wims(nonempty rows \data)}
\text{data=randomrow(\data)}
\text{data=\accolade=1 ?wims(embraced randitem \data)}
\text{data=slib(text/cutchoice2 \data)}
\integer{qs=floor(rows(\data)/2)}
\text{words=wims(trim \words)}
\text{atype=wims(word 1 of \atype)}

\text{pre=\accolade=1 ?wims(embraced randitem \pre)}
\text{post=\accolade=1 ?wims(embraced randitem \post)}
\text{qlist=wims(makelist reply x for x=1 to \qs)}
\steps{\qlist}
\text{latextext= \data[1;]}
\text{latexsol=\data[1;]}
\for{i=1 to \qs}{
  \real{taille=ceil(\len/3)}
  \text{latextext=\latextext \underline{\hspace{\taille cm}} \data[2*\i+1;]}
  \text{latexsol=\latexsol \listchoice{\data[2*\i;]} \data[2*\i+1;]}
}


:%%%%%%%%%%%%% Maintenant l'énoncé en code html. %%%%%%%%%%%%%%%%%%%%

::Vous n'avez pas besoin de modifier ceci en général.

\statement{\pre
\data[1;]
\for{k=1 to \qs}{
\embed{r \k,\len} \data[2*\k+1;]
}
\post
}

:%%%%%%%%%%%%% Rien à modifier ci-après. %%%%%%%%%%%%%%%%%5

\answer{Champ 1}{\data[2;];\words}{type=\atype}
\answer{Champ 2}{\data[4;];\words}{type=\atype}
\answer{Champ 3}{\data[6;];\words}{type=\atype}
\answer{Champ 4}{\data[8;];\words}{type=\atype}
\answer{Champ 5}{\data[10;];\words}{type=\atype}
\answer{Champ 6}{\data[12;];\words}{type=\atype}

\latex{
\begin{statement}
\pre
\latextext \newline
\post
\end{statement}

\begin{solution}
\latexsol
\end{solution}
}

