
<h2>Comentarios dependientes de las respuestas</h2>

Puede definir condiciones (dependientes de las respuestas proporcionadas por
los usuarios) bajo las que pueden imprimirse comentarios en la página de
resultados de un ejercicio. Una utilidad común de esta posibilidad será dar
una explicación cuando se detecta un error típico en la respuesta.
<p>
Se puede añadir un número arbitrario de comentarios vinculados a cualquier tipo
de respuesta (libres o de opción múltiple). La sintaxis es la siguiente:
</p><pre>
\feedback{CONDICIÓN}{MENSAJE}
</pre>
Se puede poner una línea como esta en el campo de los parámetros (en modo
guiado) o en cualquier lugar del código fuente (en el modo en bruto).
<p>
Cuando se cumple la <span class="tt">CONDICIÓN</span>,
se le mostrará el <span class="tt">MENSAJE</span> al usuario en la página de resultados. Se
pueden utilizar los valores de las respuestas del usuario en los dos
campos (CONDICIÓN y MENSAJE) por medio de las variables <span class="tt wims_code_variable">\reply1</span>,
<span class="tt wims_code_variable">\reply2</span>... (para las respuestas libres), <span class="tt wims_code_variable">\choice1</span>,
<span class="tt wims_code_variable">\choice2</span>... (para las opciones múltiples). El orden de estas variables
es el mismo que el orden en el que aparecen en el código fuente (o
en el formulario en el modo guiado).
<p>
El <span class="tt">MENSAJE</span> es un texto libre, que acepta las etiquetas html y los símbolos
matemáticos.
</p>$table_header
<caption>Ejemplos de condiciones
<small>
!href target=wims_mhelp cmd=help&special_parm=if Lista completa
</small>
</caption>
$table_hdtr<th>condición</th><th>cuando se cumpla que</th></tr>
$table_tr<td class="tt wims_code_words">\reply1=5</td><td>la primera respuesta libre es exactamente igual a 5</td></tr>
$table_tr<td class="tt wims_code_words">\reply1&gt;\reply2+2</td><td>la primera respuesta libre es &gt; la segunda más 2</td></tr>
$table_tr<td class="tt wims_code_words">\choice1=Sí and \choice2=No</td>
  <td>la primera opción múltiple es Sí, y la segunda es No (<b>Atención</b>
¡la comparación en las opciones múltiples es sensible a la diferencia
minúsculas-mayúsculas!)
</td></tr>
$table_tr<td class="tt wims_code_words">\reply1&lt;5 or \reply1&gt;8</td>
  <td>la primera respuesta se sale del intervalo [5,8].
</td></tr>
$table_tr<td class="tt wims_code_words">3 isitemof \reply1</td>
  <td>la primera respuesta, del tipo "set" o "vector",
  contiene una componente "3".
</td></tr>
$table_end
<p>
<b>Fallo conocido</b>. Debe evitar usar conjuntamente <span class="tt wims_code_variable">\reply</span> y
<span class="tt wims_code_variable">\choice</span> en una misma condición. De lo contrario el resultado
será imprevisible.
</p>

